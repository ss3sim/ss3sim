<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Change the data that is available from a list object — change_data • ss3sim</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Change the data that is available from a list object — change_data"><meta property="og:description" content="Alter the structure of data that is available from a Stock Synthesis
operating model (OM), which in turn leads to changes
in the output and ability to sample data after running the model."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ss3sim</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.20.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/introduction.html">Introduction to ss3sim</a>
    </li>
    <li>
      <a href="../articles/making-models.html">Creating new ss3sim model setups</a>
    </li>
    <li>
      <a href="../articles/modifying-models.html">Modifying the model included with ss3sim</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/ss3sim/ss3sim/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Change the data that is available from a list object</h1>
    <small class="dont-index">Source: <a href="https://github.com/ss3sim/ss3sim/blob/HEAD/R/change_data.r" class="external-link"><code>R/change_data.r</code></a></small>
    <div class="hidden name"><code>change_data.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Alter the structure of data that is available from a Stock Synthesis
operating model (OM), which in turn leads to changes
in the output and ability to sample data after running the model.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">change_data</span><span class="op">(</span></span>
<span>  <span class="va">dat_list</span>,</span>
<span>  outfile <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">fleets</span>,</span>
<span>  <span class="va">years</span>,</span>
<span>  types <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"len"</span>, <span class="st">"age"</span>, <span class="st">"cal"</span>, <span class="st">"mla"</span>, <span class="st">"mwa"</span><span class="op">)</span>,</span>
<span>  age_bins <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  len_bins <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  pop_binwidth <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  pop_minimum_size <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  pop_maximum_size <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  lcomp_constant <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  tail_compression <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  nsex <span class="op">=</span> <span class="fl">1</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>dat_list</dt>
<dd><p>A Stock Synthesis  data list object as read in from
<code><a href="https://rdrr.io/pkg/r4ss/man/SS_readdat.html" class="external-link">SS_readdat</a></code>.
Be sure to correctly specify which section of the data file you want
to work with when reading it in using the <code>section</code> argument.
Where, <code>section = 1</code> reads in the input values used to run the model
and <code>section = 2</code> reads in the expected values generated given all the
input to the OM. <code>section = 3</code> is not used within ss3sim, but this
section provides bootstrapped data sets that have been sampled internally
within SS.</p></dd>


<dt>outfile</dt>
<dd><p>A character string specifying the file name to use
when writing the information to the disk. The string must include
the proper file extension. No file is written using the default value
of <code>NULL</code>, which leads to increased speed because writing the
file takes time and computing resources.</p></dd>


<dt>fleets</dt>
<dd><p>A numeric vector of fleets.</p></dd>


<dt>years</dt>
<dd><p>A numeric vector of years.</p></dd>


<dt>types</dt>
<dd><p>A vector that can take combinations of the following entries:
<code>"len"</code>, <code>"age"</code>, <code>"cal"</code>, <code>"mla"</code>.
<code>types</code> controls what data structures the function acts on, with
<code>"len"</code> augmenting the length-composition data,
<code>"age"</code> augmenting the age-composition data,
<code>"cal"</code> augmenting the conditional age-at-length data, and
<code>"mla"</code> augmenting the mean length-at-age data.</p></dd>


<dt>age_bins</dt>
<dd><p>A numeric vector of age bins to use. If left as <code>NULL</code>,
the age bin structure will be taken from the OM.</p></dd>


<dt>len_bins</dt>
<dd><p>A numeric vector of length bins to use. If left as
<code>NULL</code>, the length bin structure will be taken from the OM.
For conditional age-at-length data,
the last value provided to <code>len_bins</code> will be used for Lbin_lo and
-1 will be used for Lbin_hi for the largest length bin category, i.e.,
row of conditional age-at-length data.</p></dd>


<dt>pop_binwidth</dt>
<dd><p>Population length bin width. Note that this value must
be smaller than the bin width specified in length-composition data
<code>len_bins</code> or Stock Synthesis will fail,
see notes in the
<a href="https://nmfs-stock-synthesis.github.io/ss-documentation/SS330_User_Manual.html" class="external-link">Stock Synthesis manual</a>.</p></dd>


<dt>pop_minimum_size</dt>
<dd><p>Population minimum length bin value.</p></dd>


<dt>pop_maximum_size</dt>
<dd><p>Population maximum length bin value.</p></dd>


<dt>lcomp_constant</dt>
<dd><p>The robustification constant for length-composition data.
Must be a numeric value, as a proportion.
For example, 0.1 means 10 percent.
See the notes in the
<a href="https://nmfs-stock-synthesis.github.io/ss-documentation/SS330_User_Manual.html" class="external-link">Stock Synthesis manual</a>.
A <code>NULL</code> value indicates no action resulting in using the current value, and
a value of 0 will throw an error because
zero leads to an error when zeroes exist in the data.
Instead use a very small value like 1e-07.</p></dd>


<dt>tail_compression</dt>
<dd><p>Tail compression value to be used in Stock Synthesis. Must
be a numeric value, as a proportion. For example 0.1 means 10 percent.
See the notes in the
<a href="https://nmfs-stock-synthesis.github.io/ss-documentation/SS330_User_Manual.html" class="external-link">Stock Synthesis manual</a>.
A <code>NULL</code> value indicates no action,
a negative value turns the feature off in Stock Synthesis.</p></dd>


<dt>nsex</dt>
<dd><p>An integer value of 1 or 2 specifying the number of sexes in the
model. If 1, then females are the only included sex. This information can be
found in the data file for a given model and dictates how the composition
data are structured.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>An invisible data list, and a file is written to the disk if an
entry other than the default of <code>NULL</code> is provided for <code>outfile</code>.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p><code>change_data()</code> is called internally within ss3sim, but it can be used
to manipulate data or to prepare a new OM for use in a simulation.
Original data is removed and dummy data is added to the Stock Synthesis <code>.dat</code> object.
The dummy data expands the data structure to provide information for all years
and fleets, potentially adding many rows of data.</p>
<p>Currently, <code>.dat</code> files with multiple sexes cannot be manipulated with <code>change_data()</code>.</p>
<p>The robustification constant is added to both the observed and
expected proportions of length composition data, before being normalized
internally. It is designed to help stabilize the model, but is unclear how
and when to use it for optimal effect. The same value is used for all
length data.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>See <code><a href="clean_data.html">clean_data()</a></code> for a counter function.</p>
<p>Other change functions: 
<code><a href="change_em_binning.html">change_em_binning</a>()</code>,
<code><a href="change_e.html">change_e</a>()</code>,
<code><a href="change_f.html">change_f</a>()</code>,
<code><a href="change_o.html">change_o</a>()</code>,
<code><a href="change_retro.html">change_retro</a>()</code>,
<code><a href="change_tv.html">change_tv</a>()</code></p></div>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Cole Monnahan, Ian G. Taylor, Sean Anderson, Kelli F. Johnson</p>
    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Kelli F. Johnson, Sean C. Anderson, Kathryn L. Doering, Cole C. Monnahan, Christine C. Stawitz.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

