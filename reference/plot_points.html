<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Plot results of a simulation as a scatterplot — plot_points • ss3sim</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Plot results of a simulation as a scatterplot — plot_points"><meta property="og:description" content="Generate a scatterplot using ggplot2::ggplot to visualize
the relationship between two continuous variables."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ss3sim</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.1.8</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/introduction.html">Introduction to ss3sim</a>
    </li>
    <li>
      <a href="../articles/making-models.html">Creating new ss3sim model setups</a>
    </li>
    <li>
      <a href="../articles/modifying-models.html">Modifying the model included with ss3sim</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/ss3sim/ss3sim/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Plot results of a simulation as a scatterplot</h1>
    <small class="dont-index">Source: <a href="https://github.com/ss3sim/ss3sim/blob/HEAD/R/plot_points.R" class="external-link"><code>R/plot_points.R</code></a></small>
    <div class="hidden name"><code>plot_points.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Generate a scatterplot using <a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot2::ggplot</a> to visualize
the relationship between two continuous variables.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">plot_points</span><span class="op">(</span>
  <span class="va">data</span>,
  <span class="va">x</span>,
  <span class="va">y</span>,
  horiz <span class="op">=</span> <span class="cn">NULL</span>,
  horiz2 <span class="op">=</span> <span class="cn">NULL</span>,
  vert <span class="op">=</span> <span class="cn">NULL</span>,
  vert2 <span class="op">=</span> <span class="cn">NULL</span>,
  jitter.height <span class="op">=</span> <span class="fl">0</span>,
  jitter.width <span class="op">=</span> <span class="fl">0</span>,
  color <span class="op">=</span> <span class="cn">NULL</span>,
  relative.error <span class="op">=</span> <span class="cn">FALSE</span>,
  axes.free <span class="op">=</span> <span class="cn">TRUE</span>,
  print <span class="op">=</span> <span class="cn">TRUE</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>data</dt>
<dd><p>A valid data frame containing scalar or timeseries values
from a <span class="pkg">ss3sim</span> simulation. That data are generated from
<code><a href="get_results_all.html">get_results_all</a></code>.</p></dd>
<dt>x</dt>
<dd><p>A character string denoting which column to use as the x variable.
For time-series data, setting <code>x = "year"</code> leads to a time-series plot.</p></dd>
<dt>y</dt>
<dd><p>A character string denoting which column to use as the y
variable. Must be a numeric column.</p></dd>
<dt>horiz, horiz2</dt>
<dd><p>A character string denoting which column to use as
the first (<code>horiz</code>) and second (<code>horiz2</code>) level of faceting in
the horizontal direction. E.g., "M" or "species". A value of NULL (default)
indicates no faceting in the horizontal space.</p></dd>
<dt>vert, vert2</dt>
<dd><p>A character string denoting which column to use as
the first (<code>vert</code>) and second (<code>vert2</code>) level of faceting in
the vertical direction. E.g., "M" or "species". A value of NULL (default)
indicates no faceting in the vertical space.</p></dd>
<dt>jitter.height, jitter.width</dt>
<dd><p>Parameters for
<code><a href="https://ggplot2.tidyverse.org/reference/position_jitter.html" class="external-link">ggplot2::position_jitter()</a></code> that specify the vertical and horizontal
spread added to points. Where, added values are both positive and negative,
so the total spread is twice the value specified here.
If <code>NULL</code>, the spread will be 40% of the resolution of the data;
this means the jitter values will occupy 80% of the implied bins.
Categorical data is aligned on the integers,
so a width or height of 0.5 will spread the data so it's not possible
to see the distinction between the categories.
The default within ss3sim is to not jitter, i.e., a spread of 0.0.</p></dd>
<dt>color</dt>
<dd><p>A character string denoting which column to use to map
color. Not valid for boxplot functions. Useful for looking at EM
performance criteria against other dimensions of the EM or OM. See
example below for how to merge in a metric from a scalar dataset to a ts
dataset.</p></dd>
<dt>relative.error</dt>
<dd><p>Boolean for whether the y-axis scale should be
interpreted as relative error. If <code>TRUE</code>, <code>ylim</code> is set to
<code>c(-1, 1)</code>, the y-axis label is changed automatically, and a
black, dashed line at <code>y=0</code> is added. The argument can also accept a
color entry if you wish the line to be something other than black. E.g.,
<code>"red"</code> will add a red dashed line at zero as well as fix the y-axis
limits.</p></dd>
<dt>axes.free</dt>
<dd><p>Boolean for whether the y-axis scales should be free
in <code>facet_grid</code>.</p></dd>
<dt>print</dt>
<dd><p>A logical for whether the plot is printed or not.</p></dd>
</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>Points are placed on the figure using the width setting in
<code><a href="https://ggplot2.tidyverse.org/reference/position_jitter.html" class="external-link">ggplot2::position_jitter()</a></code> that defaults to 40% resolution of
the data, meaning that the jitter values will occupy 80% of the implied bins.
The previous information was found in the documentation for
<code><a href="https://ggplot2.tidyverse.org/reference/position_jitter.html" class="external-link">ggplot2::position_jitter()</a></code>.</p>
<p>Values of <code>NA</code> are removed prior to plotting such that the typical
error message from <span class="pkg">ggplot2</span> is not printed to the screen.</p>
<p>The <span class="pkg">ss3sim</span> plotting functions are simply
wrappers for <span class="pkg">ggplot2</span> code, specific to the output from
<span class="pkg">ss3sim</span> <code><a href="get_results_all.html">get_results_all()</a></code> objects. They are
designed to quickly explore simulation output, rather than produce
publication-level figures. The functions use arguments passed as
characters that refer to columns of <code>data</code>.
Scalar plots requires a value for <code>x</code>; while,
for time-series plots, <code>x = "year"</code> will be necessary.</p>
<p>Note that there are some subtle differences between the
functions.
Boxplots cannot have a color mapped to them like points or lines,
and thus, <code>color</code> is not a
valid argument. The time-series point and line plots are grouped internally by
'ID', which is a combination of scenario and iteration and will be
automatically added to the data set if not already present.</p>
    </div>
    <div id="output">
    <h2>Output</h2>
    <p>These functions print the <code>ggplot</code> object, but
also return it invisibly for saving or printing again later.
For example, you could save the <code>ggplot</code> object and add a custom
theme or change an axis label before printing it.</p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Cole Monnahan</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="co"># Plot scalar values</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"scalar_dat"</span>, package <span class="op">=</span> <span class="st">"ss3sim"</span><span class="op">)</span></span>
<span class="r-in"><span class="va">re</span> <span class="op">&lt;-</span> <span class="fu"><a href="calculate_re.html">calculate_re</a></span><span class="op">(</span><span class="va">scalar_dat</span><span class="op">)</span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>number of columns of result is not a multiple of vector length (arg 1)</span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"><span class="fu">plot_points</span><span class="op">(</span><span class="va">re</span>,</span>
<span class="r-in">  x <span class="op">=</span> <span class="st">"E"</span>, y <span class="op">=</span> <span class="st">"depletion_re"</span>, horiz <span class="op">=</span> <span class="st">"D"</span>,</span>
<span class="r-in">  color <span class="op">=</span> <span class="st">"max_grad"</span>, relative.error <span class="op">=</span> <span class="cn">TRUE</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/rm.html" class="external-link">rm</a></span><span class="op">(</span><span class="va">re</span><span class="op">)</span></span>
<span class="r-in"><span class="co"># Merge scalar and time-series values to plot time series with color</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"ts_dat"</span>, package <span class="op">=</span> <span class="st">"ss3sim"</span><span class="op">)</span></span>
<span class="r-in"><span class="va">re</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/merge.html" class="external-link">merge</a></span><span class="op">(</span></span>
<span class="r-in">  by <span class="op">=</span> <span class="st">"ID"</span>,</span>
<span class="r-in">  <span class="fu"><a href="calculate_re.html">calculate_re</a></span><span class="op">(</span><span class="va">ts_dat</span>, add <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>,</span>
<span class="r-in">  <span class="fu"><a href="calculate_re.html">calculate_re</a></span><span class="op">(</span><span class="va">scalar_dat</span>, add <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ID"</span>, <span class="st">"max_grad"</span><span class="op">)</span><span class="op">]</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>number of columns of result is not a multiple of vector length (arg 1)</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>number of columns of result is not a multiple of vector length (arg 1)</span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"><span class="fu">plot_points</span><span class="op">(</span><span class="va">re</span>,</span>
<span class="r-in">  x <span class="op">=</span> <span class="st">"year"</span>, y <span class="op">=</span> <span class="st">"SpawnBio_re"</span>,</span>
<span class="r-in">  horiz <span class="op">=</span> <span class="st">"scenario"</span>, color <span class="op">=</span> <span class="st">"max_grad"</span>, relative.error <span class="op">=</span> <span class="cn">TRUE</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/rm.html" class="external-link">rm</a></span><span class="op">(</span><span class="va">re</span><span class="op">)</span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Kelli F. Johnson, Sean C. Anderson, Kathryn L. Doering, Cole C. Monnahan, Christine C. Stawitz, Ian G. Taylor.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer></div>

  


  

  </body></html>

