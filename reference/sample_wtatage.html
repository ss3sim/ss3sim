<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Sample empirical weight-at-age data — sample_wtatage • ss3sim</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Sample empirical weight-at-age data — sample_wtatage"><meta property="og:description" content="In Stock Synthesis, empirical weight-at-age data can be used to
read empirical body weight for the population from each fleet.
This data removes the use of growth parameters from the EM because
weights are assigned to each age internally rather than from the growth parameters,
from which spawning biomass/fecundity can be determined.
These values are not data in the sense they have a likelihood but are generated from samples.
Sampling empirical weight-at-age data from the expected values takes many steps."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ss3sim</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.1.7</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/introduction.html">Introduction to ss3sim</a>
    </li>
    <li>
      <a href="../articles/making-models.html">Creating new ss3sim model setups</a>
    </li>
    <li>
      <a href="../articles/modifying-models.html">Modifying the model included with ss3sim</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/ss3sim/ss3sim/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Sample empirical weight-at-age data</h1>
    <small class="dont-index">Source: <a href="https://github.com/ss3sim/ss3sim/blob/HEAD/R/sample_wtatage.R" class="external-link"><code>R/sample_wtatage.R</code></a></small>
    <div class="hidden name"><code>sample_wtatage.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>In Stock Synthesis, empirical weight-at-age data can be used to
read empirical body weight for the population from each fleet.
This data removes the use of growth parameters from the EM because
weights are assigned to each age internally rather than from the growth parameters,
from which spawning biomass/fecundity can be determined.
These values are not data in the sense they have a likelihood but are generated from samples.
Sampling empirical weight-at-age data from the expected values takes many steps.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">sample_wtatage</span><span class="op">(</span>
  <span class="va">wta_file_in</span>,
  <span class="va">outfile</span>,
  <span class="va">dat_list</span>,
  <span class="va">ctl_file_in</span>,
  <span class="va">years</span>,
  fill_fnc <span class="op">=</span> <span class="va">fill_across</span>,
  <span class="va">fleets</span>,
  cv_wtatage <span class="op">=</span> <span class="cn">NULL</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>wta_file_in</dt>
<dd><p>The file to read weight-at-age from. Specifically to get the
age-0 weight-at-age. This is typically <code>wtatage.ss_new</code>.</p></dd>
<dt>outfile</dt>
<dd><p>A character string specifying the file name to use
when writing the information to the disk. The string must include
the proper file extension. No file is written using the default value
of <code>NULL</code>, which leads to increased speed because writing the
file takes time and computing resources.</p></dd>
<dt>dat_list</dt>
<dd><p>An SS data list object as read in from
<code><a href="https://rdrr.io/pkg/r4ss/man/SS_readdat.html" class="external-link">SS_readdat</a></code>.
Be sure to correctly specify which section of the data file you want
to work with when reading it in using the <code>section</code> argument.
Where, <code>section = 1</code> reads in the input values used to run the model
and <code>section = 2</code> reads in the expected values generated given all the
input to the OM. <code>section = 3</code> is not used within ss3sim, but this
section provides bootstrapped data sets that have been sampled internally
within SS.</p></dd>
<dt>ctl_file_in</dt>
<dd><p>A path to the control file, output from an OM, containing
the OM parameters for growth and weight/length relationship. These values
are used to determine the uncertainty about weight for fish sampled in each
age bin. Commonly <code>control.ss_new</code></p></dd>
<dt>years</dt>
<dd><p>*A list the same length as <code>fleets</code> giving the years as
numeric vectors. If no fleet collected samples, keep the value to
<code>years=NULL</code>.</p></dd>
<dt>fill_fnc</dt>
<dd><p>A function to fill in missing values (ages and years). The
resulting weight-at-age file will have values for all years and ages.One
function is <code><a href="fill_across.html">fill_across()</a></code>.</p></dd>
<dt>fleets</dt>
<dd><p>*A vector of integers specifying which fleets to include.
The order of the fleets pertains to the input order of other arguments.
An entry of <code>fleets=NULL</code> leads to zero samples for any fleet.</p></dd>
<dt>cv_wtatage</dt>
<dd><p>A user specified coefficient of variation (CV) for growth.
Default is <code>NULL</code>.</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A modified <code>.wtatage.ss</code> file if <code>!is.null(outfile)</code>. A list
object containing the modified <code>.wtatage.ss</code> file is returned invisibly.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>The steps for sampling empirical weight-at-age are as follows:</p><ul><li><p>Sample from the expected ages to get realistic proportions for
the number of fish in each age bin.</p></li>
<li><p>Use the mean size-at-age and coefficient of variation for growth to
generate random samples of size,
which are then converted to weight and averaged to get mean weight-at-age values.</p></li>
<li><p>Fill in missing ages and years.</p></li>
<li><p>Write the information to the appropriate files.</p></li>
<li><p>Turn on weight-at-age data in Stock Synthesis by setting the maturity option to 5.</p></li>
</ul></div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index">
<ul><li><p><code><a href="fill_across.html">fill_across()</a></code></p></li>
<li><p><code><a href="ss3sim_base.html">ss3sim_base()</a></code></p></li>
</ul><p>Other sampling functions: 
<code><a href="clean_data.html">clean_data</a>()</code>,
<code><a href="sample_agecomp.html">sample_agecomp</a>()</code>,
<code><a href="sample_calcomp.html">sample_calcomp</a>()</code>,
<code><a href="sample_catch.html">sample_catch</a>()</code>,
<code><a href="sample_discard.html">sample_discard</a>()</code>,
<code><a href="sample_index.html">sample_index</a>()</code>,
<code><a href="sample_lcomp.html">sample_lcomp</a>()</code>,
<code><a href="sample_mlacomp.html">sample_mlacomp</a>()</code></p></div>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Cole Monnahan, Allan Hicks, Peter Kuriyama</p>
    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Kelli F. Johnson, Sean C. Anderson, Kathryn L. Doering, Cole C. Monnahan, Christine C. Stawitz, Ian G. Taylor.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer></div>

  


  

  </body></html>

