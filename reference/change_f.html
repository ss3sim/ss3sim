<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Specify fishing mortality, \(F\), using the Stock Synthesis control file — change_f • ss3sim</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Specify fishing mortality, \(F\), using the Stock Synthesis control file — change_f"><meta property="og:description" content="Replace or input a time series of fishing mortality, \(F\), values into
a Stock Synthesis control file.
In Stock Synthesis, inserting \(F\) values in this manner,
relies on the assumption that \(F\) operates continuously throughout the year and
and the process operates jointly with natural mortality
(Baranov 1918; Branch 2009).
The documentation for Stock Synthesis also describes this process as
\(F\) method == 2, where \(F\) is continuous and modeled using
full parameters."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ss3sim</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.21.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/introduction.html">Introduction to ss3sim</a>
    </li>
    <li>
      <a href="../articles/making-models.html">Creating new ss3sim model setups</a>
    </li>
    <li>
      <a href="../articles/modifying-models.html">Modifying the model included with ss3sim</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/ss3sim/ss3sim/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Specify fishing mortality, \(F\), using the Stock Synthesis control file</h1>
    <small class="dont-index">Source: <a href="https://github.com/ss3sim/ss3sim/blob/main/R/change_f.r" class="external-link"><code>R/change_f.r</code></a></small>
    <div class="hidden name"><code>change_f.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Replace or input a time series of fishing mortality, \(F\), values into
a Stock Synthesis control file.
In Stock Synthesis, inserting \(F\) values in this manner,
relies on the assumption that \(F\) operates continuously throughout the year and
and the process operates jointly with natural mortality
(Baranov 1918; <a href="https://cdnsciencepub.com/doi/10.1139/F08-196" class="external-link">Branch 2009</a>).
The documentation for Stock Synthesis also describes this process as
\(F\) method == 2, where \(F\) is continuous and modeled using
full parameters.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">change_f</span><span class="op">(</span><span class="va">years</span>, <span class="va">fleets</span>, <span class="va">fvals</span>, seasons <span class="op">=</span> <span class="fl">1</span>, ses <span class="op">=</span> <span class="fl">0.005</span>, <span class="va">ctl_list</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-years">years<a class="anchor" aria-label="anchor" href="#arg-years"></a></dt>
<dd><p>*A list the same length as <code>fleets</code> giving the years as
numeric vectors. If no fleet collected samples, keep the value to
<code>years=NULL</code>.</p></dd>


<dt id="arg-fleets">fleets<a class="anchor" aria-label="anchor" href="#arg-fleets"></a></dt>
<dd><p>*A vector of integers specifying which fleets to include.
The order of the fleets pertains to the input order of other arguments.
An entry of <code>fleets=NULL</code> leads to zero samples for any fleet.</p></dd>


<dt id="arg-fvals">fvals<a class="anchor" aria-label="anchor" href="#arg-fvals"></a></dt>
<dd><p>A list of the same length as <code>fleets</code> with one
entry per fishing mortality level, \(F\), entry in <code>years</code>.
A single value will be repeated for every value in <code>years</code>. If more than
one fleet is present, then the single value will be used for all fleets, i.e.,
there is no way to map a single value to each year specific to the given fleet.
Instead you would need to provide a list of vectors of repeated values.</p></dd>


<dt id="arg-seasons">seasons<a class="anchor" aria-label="anchor" href="#arg-seasons"></a></dt>
<dd><p>A list of seasons to be entered into the
Stock Synthesis control file for each fleet.
The structure is the same as <code>fvals</code>, i.e., a list or a scalar.
The default is 1, which will be applied to all fleets in all years.</p></dd>


<dt id="arg-ses">ses<a class="anchor" aria-label="anchor" href="#arg-ses"></a></dt>
<dd><p>A list of fishing level standard errors (ses) to be entered into the
Stock Synthesis control file for each fleet.
The structure is the same as <code>fvals</code>, i.e., a list or a scalar.
The default is 0.005, which will be applied to all fleets in all years.</p></dd>


<dt id="arg-ctl-list">ctl_list<a class="anchor" aria-label="anchor" href="#arg-ctl-list"></a></dt>
<dd><p>A control file read in by <code><a href="https://r4ss.github.io/r4ss/reference/SS_readctl.html" class="external-link">SS_readctl</a></code>.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>Modified Stock Synthesis control file list.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>The argument <code>years</code> is the only argument that must be a vector
or a list of vectors. Other arguments can be specified using a single
scalar value that will be repeated for all fisheries in all years.
If the input argument needs to be different for any year or fishery, the
argument must be a list with vectors for each fishery, where each vector
is the same length as the vectors within the <code>years</code> argument. Although,
both the <code>years</code> and other input arguments can be specified using a single
vector if the length of <code>fleets</code> is just one or a vector of values
is specified for fleets because all of these vectors will just be combined
into a single data frame. Where it gets complicated is when there are
multiple fleet and year combinations, then it is best to just use the list
structure common to other functions within <span class="pkg">ss3sim</span>.</p>
<p><code>change_f()</code> overrides any \(F\) values that are in the supplied
control file with the newly specified values, i.e., <code>fvals</code>.
Users do not need to specify values for years in which there
will be zero fishing because Stock Synthesis will automatically set them to zero when
running the operating model.
Using the control file rather than the par file to manipulate the
operating model requires a few other files within the operating
model folder to be set up in a particular manner. That is,
(1) the starter file must be set up to read parameters from the control file
rather than the par file and
(2) the data file must have a dummy catch entry for every year, fishery
combination that will be specified in the control file. If a year, fishery
combination is specified in the control file and not present in the data file,
then the entry in the control file will be ignored. ss3sim automatically corrects
for this using <code><a href="ss3sim_base.html">ss3sim_base()</a></code> by
specifying a row for every year and fleet using <code><a href="change_catch.html">change_catch()</a></code>.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>See <code><a href="https://r4ss.github.io/r4ss/reference/SS_readctl.html" class="external-link">r4ss::SS_readctl()</a></code> and <code><a href="https://r4ss.github.io/r4ss/reference/SS_writectl.html" class="external-link">r4ss::SS_writectl()</a></code>
for how to supply <code>ctl_list</code> and how to write the file back to the disk
once you are done manipulating the list object.</p>
<p>Other change functions:
<code><a href="change_data.html">change_data</a>()</code>,
<code><a href="change_e.html">change_e</a>()</code>,
<code><a href="change_em_binning.html">change_em_binning</a>()</code>,
<code><a href="change_o.html">change_o</a>()</code>,
<code><a href="change_retro.html">change_retro</a>()</code>,
<code><a href="change_tv.html">change_tv</a>()</code></p></div>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Kelli F. Johnson</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu">r4ss</span><span class="fu">::</span><span class="fu"><a href="https://r4ss.github.io/r4ss/reference/SS_readdat.html" class="external-link">SS_readdat</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"models"</span>, <span class="st">"cod-om"</span>, <span class="st">"codOM.dat"</span>, package <span class="op">=</span> <span class="st">"ss3sim"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  verbose <span class="op">=</span> <span class="cn">FALSE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ctl</span> <span class="op">&lt;-</span> <span class="fu">r4ss</span><span class="fu">::</span><span class="fu"><a href="https://r4ss.github.io/r4ss/reference/SS_readctl.html" class="external-link">SS_readctl</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"models"</span>, <span class="st">"cod-om"</span>, <span class="st">"codOM.ctl"</span>, package <span class="op">=</span> <span class="st">"ss3sim"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  verbose <span class="op">=</span> <span class="cn">FALSE</span>, use_datlist <span class="op">=</span> <span class="cn">TRUE</span>, datlist <span class="op">=</span> <span class="va">dat</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Using original vector-style inputs</span></span></span>
<span class="r-in"><span><span class="va">newctl</span> <span class="op">&lt;-</span> <span class="fu">change_f</span><span class="op">(</span>years <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">50</span>, fleets <span class="op">=</span> <span class="fl">1</span>, fvals <span class="op">=</span> <span class="fl">0.2</span>, ctl_list <span class="op">=</span> <span class="va">ctl</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Using list-style inputs for when there are multiple fisheries</span></span></span>
<span class="r-in"><span><span class="va">newctl</span> <span class="op">&lt;-</span> <span class="fu">change_f</span><span class="op">(</span></span></span>
<span class="r-in"><span>  years <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span>, fleets <span class="op">=</span> <span class="fl">3</span><span class="op">:</span><span class="fl">4</span>,</span></span>
<span class="r-in"><span>  fvals <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0.1</span>, <span class="fl">5</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0.2</span>, <span class="fl">10</span><span class="op">)</span><span class="op">)</span>, ctl_list <span class="op">=</span> <span class="va">ctl</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/rm.html" class="external-link">rm</a></span><span class="op">(</span><span class="va">dat</span>, <span class="va">ctl</span>, <span class="va">newctl</span><span class="op">)</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Kelli F. Johnson, Sean C. Anderson, Kathryn L. Doering, Cole C. Monnahan, Christine C. Stawitz.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

      </footer></div>






  </body></html>

