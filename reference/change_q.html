<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Adds or removes catchability parameters from a control file — change_q • ss3sim</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Adds or removes catchability parameters from a control file — change_q"><meta property="og:description" content="Manipulates the control list to simultaneously add and remove
elements related to time series data on trends."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ss3sim</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.20.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/introduction.html">Introduction to ss3sim</a>
    </li>
    <li>
      <a href="../articles/making-models.html">Creating new ss3sim model setups</a>
    </li>
    <li>
      <a href="../articles/modifying-models.html">Modifying the model included with ss3sim</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/ss3sim/ss3sim/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Adds or removes catchability parameters from a control file</h1>
    <small class="dont-index">Source: <a href="https://github.com/ss3sim/ss3sim/blob/HEAD/R/change_q.R" class="external-link"><code>R/change_q.R</code></a></small>
    <div class="hidden name"><code>change_q.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Manipulates the control list to simultaneously add and remove
elements related to time series data on trends.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">change_q</span><span class="op">(</span></span>
<span>  string_add <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  string_remove <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">ctl_list</span>,</span>
<span>  dat_list <span class="op">=</span> <span class="fu">lifecycle</span><span class="fu">::</span><span class="fu"><a href="https://lifecycle.r-lib.org/reference/deprecated.html" class="external-link">deprecated</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  ctl_file_in <span class="op">=</span> <span class="fu">lifecycle</span><span class="fu">::</span><span class="fu"><a href="https://lifecycle.r-lib.org/reference/deprecated.html" class="external-link">deprecated</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  dat_file_in <span class="op">=</span> <span class="fu">lifecycle</span><span class="fu">::</span><span class="fu"><a href="https://lifecycle.r-lib.org/reference/deprecated.html" class="external-link">deprecated</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  ctl_file_out <span class="op">=</span> <span class="fu">lifecycle</span><span class="fu">::</span><span class="fu"><a href="https://lifecycle.r-lib.org/reference/deprecated.html" class="external-link">deprecated</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  overwrite <span class="op">=</span> <span class="fu">lifecycle</span><span class="fu">::</span><span class="fu"><a href="https://lifecycle.r-lib.org/reference/deprecated.html" class="external-link">deprecated</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  verbose <span class="op">=</span> <span class="fu">lifecycle</span><span class="fu">::</span><span class="fu"><a href="https://lifecycle.r-lib.org/reference/deprecated.html" class="external-link">deprecated</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>string_add</dt>
<dd><p>A vector of fleet names and/or integers representing
fleets that need \(q\) parameters added to the control file.</p></dd>


<dt>string_remove</dt>
<dd><p>A vector of fleet names and/or integers representing
fleets that need \(q\) parameters removed from the control file.</p></dd>


<dt>ctl_list</dt>
<dd><p>A control file read in by <code><a href="https://r4ss.github.io/r4ss/reference/SS_readctl.html" class="external-link">SS_readctl</a></code>.</p></dd>


<dt>dat_list</dt>
<dd><p>Deprecated with ss3sim version 1.19.1 because users can
obtain fleet information from <code>ctl_list</code>.</p></dd>


<dt>ctl_file_in</dt>
<dd><p>Deprecated with ss3sim version 1.19.1 because users can
pass list as read in by <code><a href="https://r4ss.github.io/r4ss/reference/SS_readctl.html" class="external-link">r4ss::SS_readctl()</a></code> rather than specifying the
file name to be read in.</p></dd>


<dt>dat_file_in</dt>
<dd><p>Deprecated with ss3sim version 1.19.1 because users can
pass list as read in by <code><a href="https://r4ss.github.io/r4ss/reference/SS_readdat.html" class="external-link">r4ss::SS_readdat()</a></code> rather than specifying the
file name to be read in.</p></dd>


<dt>ctl_file_out</dt>
<dd><p>Deprecated with ss3sim version 1.19.1 because ss3sim
uses the returned list internally rather than the saved control file.</p></dd>


<dt>overwrite</dt>
<dd><p>Deprecated with ss3sim version 1.19.1 because the file is
no longer being saved to the disk. So, there is nothing to overwrite.</p></dd>


<dt>verbose</dt>
<dd><p>Deprecated with ss3sim version 1.19.1 because all messages
were removed.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A modified Stock Synthesis control list.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>Catchability, \(q\),
represents the proportionality constant between
data on trends and estimated population abundance.
Thus a survey thought to encapsulate the entire population, e.g.,
an acoustic survey of the entire area, will have \(q = 1\).
In Stock Synthesis, environmental time series are modelled similarly to
a survey or catch-per-unit-effort time series and thus will also have
a catchability term.
Readers interested in the complete range of functionality should see the
<a href="https://nmfs-stock-synthesis.github.io/ss-documentation/SS330_User_Manual.html#catchability" class="external-link">catchability section of the Stock Synthesis user manual</a>.
<code>change_q()</code> has limited functionality relative to
what is available in Stock Synthesis.
For example, <code>change_q()</code> cannot add parameters for additional variance.
Though it will remove additional variance parameters for
fleets that no longer have survey data.
Additionally, the float term is not used within ss3sim and is set to zero.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index">
<ul><li><p><code><a href="check_q.html">check_q()</a></code> determines which fleets should removed or added.</p></li>
<li><p><code><a href="https://r4ss.github.io/r4ss/reference/SS_readctl.html" class="external-link">r4ss::SS_readctl()</a></code> reads in the control file passed to <code>ctl_list</code>.</p></li>
<li><p><code><a href="find_position.html">find_position()</a></code> allows <code>string_*</code> to use strings or integers.</p></li>
</ul></div>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Kelli F. Johnson</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">removedfleet1</span> <span class="op">&lt;-</span> <span class="fu">change_q</span><span class="op">(</span>string_remove <span class="op">=</span> <span class="fl">1</span>, ctl_list <span class="op">=</span> <span class="va">codomctl</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">removedfleet2</span> <span class="op">&lt;-</span> <span class="fu">change_q</span><span class="op">(</span>string_remove <span class="op">=</span> <span class="fl">2</span>, ctl_list <span class="op">=</span> <span class="va">codomctl</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">removedfleets</span> <span class="op">&lt;-</span> <span class="fu">change_q</span><span class="op">(</span></span></span>
<span class="r-in"><span>  string_remove <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Fishery"</span>, <span class="fl">2</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  ctl_list <span class="op">=</span> <span class="va">codomctl</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">testthat</span><span class="fu">::</span><span class="fu"><a href="https://testthat.r-lib.org/reference/expect_null.html" class="external-link">expect_null</a></span><span class="op">(</span><span class="va">removedfleets</span><span class="op">[[</span><span class="st">"Q_options"</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">newctl</span> <span class="op">&lt;-</span> <span class="va">codomctl</span></span></span>
<span class="r-in"><span><span class="va">newctl</span><span class="op">[[</span><span class="st">"fleetnames"</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">newctl</span><span class="op">[[</span><span class="st">"fleetnames"</span><span class="op">]</span><span class="op">]</span>, <span class="st">"testfleet"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">newctl</span><span class="op">[[</span><span class="st">"Nfleets"</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">newctl</span><span class="op">[[</span><span class="st">"fleetnames"</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">newctl</span> <span class="op">&lt;-</span> <span class="fu">change_q</span><span class="op">(</span>string_add <span class="op">=</span> <span class="st">"testfleet"</span>, ctl_list <span class="op">=</span> <span class="va">newctl</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">testthat</span><span class="fu">::</span><span class="fu"><a href="https://testthat.r-lib.org/reference/equality-expectations.html" class="external-link">expect_equal</a></span><span class="op">(</span><span class="va">newctl</span><span class="op">[[</span><span class="st">"Q_options"</span><span class="op">]</span><span class="op">]</span><span class="op">[</span>, <span class="st">"fleet"</span><span class="op">]</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">)</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Kelli F. Johnson, Sean C. Anderson, Kathryn L. Doering, Cole C. Monnahan, Christine C. Stawitz.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

