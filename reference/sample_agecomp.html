<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Sample age compositions from a Stock Synthesis data file — sample_agecomp • ss3sim</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Sample age compositions from a Stock Synthesis data file — sample_agecomp"><meta property="og:description" content="Extract age-composition data from a .ss_new data file and sample
the data. It is assumed that the composition data will be expected values
as written by Stock Synthesis in the second section of the data file, but
one can also sample input data. The resulting age-composition
data are assumed to represent observed age composition and will overwrite
the age data in dat_list, which is returned invisibly.
The data file can also be written to the disk, if a file path is provided to
outfile, and used as simulated data by an estimation model."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ss3sim</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.19.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/introduction.html">Introduction to ss3sim</a>
    </li>
    <li>
      <a href="../articles/making-models.html">Creating new ss3sim model setups</a>
    </li>
    <li>
      <a href="../articles/modifying-models.html">Modifying the model included with ss3sim</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/ss3sim/ss3sim/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Sample age compositions from a Stock Synthesis data file</h1>
    <small class="dont-index">Source: <a href="https://github.com/ss3sim/ss3sim/blob/HEAD/R/sample_agecomp.R" class="external-link"><code>R/sample_agecomp.R</code></a></small>
    <div class="hidden name"><code>sample_agecomp.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Extract age-composition data from a <code>.ss_new</code> data file and sample
the data. It is assumed that the composition data will be expected values
as written by Stock Synthesis in the second section of the data file, but
one can also sample input data. The resulting age-composition
data are assumed to represent observed age composition and will overwrite
the age data in <code>dat_list</code>, which is returned invisibly.
The data file can also be written to the disk, if a file path is provided to
<code>outfile</code>, and used as simulated data by an estimation model.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">sample_agecomp</span><span class="op">(</span>
  <span class="va">dat_list</span>,
  outfile <span class="op">=</span> <span class="cn">NULL</span>,
  <span class="va">fleets</span>,
  <span class="va">Nsamp</span>,
  <span class="va">years</span>,
  cpar <span class="op">=</span> <span class="fl">1</span>,
  ESS <span class="op">=</span> <span class="cn">NULL</span>,
  keep_conditional <span class="op">=</span> <span class="cn">TRUE</span>,
  <span class="va">...</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>dat_list</dt>
<dd><p>An SS data list object as read in from
<code><a href="https://rdrr.io/pkg/r4ss/man/SS_readdat.html" class="external-link">SS_readdat</a></code>.
Be sure to correctly specify which section of the data file you want
to work with when reading it in using the <code>section</code> argument.
Where, <code>section = 1</code> reads in the input values used to run the model
and <code>section = 2</code> reads in the expected values generated given all the
input to the OM. <code>section = 3</code> is not used within ss3sim, but this
section provides bootstrapped data sets that have been sampled internally
within SS.</p></dd>
<dt>outfile</dt>
<dd><p>A character string specifying the file name to use
when writing the information to the disk. The string must include
the proper file extension. No file is written using the default value
of <code>NULL</code>, which leads to increased speed because writing the
file takes time and computing resources.</p></dd>
<dt>fleets</dt>
<dd><p>*A vector of integers specifying which fleets to include.
The order of the fleets pertains to the input order of other arguments.
An entry of <code>fleets=NULL</code> leads to zero samples for any fleet.</p></dd>
<dt>Nsamp</dt>
<dd><p>*A numeric list of the same length as <code>fleets</code>.
Either single values or vectors of the same length as the number of
years can be passed through. Single values are repeated for all
years. If no fleet collected samples, keep the value to
<code>Nsamp=NULL</code>.</p></dd>
<dt>years</dt>
<dd><p>*A list the same length as <code>fleets</code> giving the years as
numeric vectors. If no fleet collected samples, keep the value to
<code>years=NULL</code>.</p></dd>
<dt>cpar</dt>
<dd><p>A numeric value or vector the same length as
<code>fleets</code> controlling the variance of the Dirichlet
distribution used for sampling. A value of <code>1</code> leads to the
same standard deviation as a multinomial of the given <code>Nsamp</code>,
<code>2</code> indicates twice, etc. Values greater than one indicate
overdispersion, and less underdispersion. <code>NULL</code> or <code>NA</code>
for a given fleet will lead to no dispersion.</p></dd>
<dt>ESS</dt>
<dd><p>The final effective sample size (ESS) associated with the
simulated data. The ESS is not used to generate the simulated data
but can be used as an input sample size in subsequent models that estimate
population parameters or status.
The default, <code>NULL</code>, leads to the true (internally calculated)
#' ESS being used, which is <code>Nsamp</code> for the multinomial case or given
by the formula under <code>cpar</code> for the Dirichlet case.
At least one value must be provided for each fleet or a vector of
year-specific values can be used for any given fleet.
The argument accepts a list with entries,
either a single integer or a vector of integers, for each fleet.</p></dd>
<dt>keep_conditional</dt>
<dd><p>A logical if conditional age-at-length data
should be kept or removed entirely from the data file.
<code>sample_agecomp</code> only works on the age-composition data
and not on the conditional age-at-length data. To sample the
conditional data, set <code>keep_conditional</code> to <code>TRUE</code>
and use <code><a href="sample_calcomp.html">sample_calcomp()</a></code>.</p></dd>
<dt>...</dt>
<dd><p>Any argument you want to be a column in the new data frame of composition
data. All extra arguments should be named columns in <code>data</code>.
Each argument needs to be a list of length <code>length(fleets)</code>. Or, you can use a
single value that will be repeated for each combination of fleet, year, ...
in your data.</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A modified <code>.dat</code> file if <code>!is.null(outfile)</code>. A list object
containing the modified <code>.dat</code> file is returned invisibly.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>Other sampling functions: 
<code><a href="clean_data.html">clean_data</a>()</code>,
<code><a href="sample_calcomp.html">sample_calcomp</a>()</code>,
<code><a href="sample_catch.html">sample_catch</a>()</code>,
<code><a href="sample_discard.html">sample_discard</a>()</code>,
<code><a href="sample_index.html">sample_index</a>()</code>,
<code><a href="sample_lcomp.html">sample_lcomp</a>()</code>,
<code><a href="sample_mlacomp.html">sample_mlacomp</a>()</code>,
<code><a href="sample_wtatage.html">sample_wtatage</a>()</code></p></div>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Cole Monnahan and Kotaro Ono</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="va">d</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, package <span class="op">=</span> <span class="st">"ss3sim"</span><span class="op">)</span></span>
<span class="r-in"><span class="va">f_in</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">d</span>, <span class="st">"models"</span>, <span class="st">"cod-om"</span>, <span class="st">"codOM.dat"</span><span class="op">)</span></span>
<span class="r-in"><span class="va">dat_list</span> <span class="op">&lt;-</span> <span class="fu">r4ss</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/r4ss/man/SS_readdat.html" class="external-link">SS_readdat</a></span><span class="op">(</span><span class="va">f_in</span>, verbose <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## Turn off age comps by specifying fleets=NULL</span></span>
<span class="r-in"><span class="va">test</span> <span class="op">&lt;-</span> <span class="fu">sample_agecomp</span><span class="op">(</span>dat_list <span class="op">=</span> <span class="va">dat_list</span>, fleets <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## Generate with a smaller number of fleet taking samples</span></span>
<span class="r-in"><span class="va">ex1</span> <span class="op">&lt;-</span> <span class="fu">sample_agecomp</span><span class="op">(</span></span>
<span class="r-in">  dat_list <span class="op">=</span> <span class="va">dat_list</span>, outfile <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span class="r-in">  fleets <span class="op">=</span> <span class="fl">2</span>, Nsamp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">50</span><span class="op">)</span><span class="op">)</span>, years <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">26</span>, <span class="fl">27</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">NROW</a></span><span class="op">(</span><span class="va">ex1</span><span class="op">$</span><span class="va">agecomp</span><span class="op">)</span> <span class="op">==</span> <span class="fl">2</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## Generate with varying Nsamp by year for first fleet</span></span>
<span class="r-in"><span class="va">ex2</span> <span class="op">&lt;-</span> <span class="fu">sample_agecomp</span><span class="op">(</span></span>
<span class="r-in">  dat_list <span class="op">=</span> <span class="va">dat_list</span>, outfile <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span class="r-in">  fleets <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span class="r-in">  Nsamp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">50</span>, <span class="fl">5</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">5</span><span class="op">)</span><span class="op">)</span>, <span class="fl">50</span><span class="op">)</span>,</span>
<span class="r-in">  years <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">26</span>, <span class="fl">44</span>, <span class="fl">2</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">26</span><span class="op">:</span><span class="fl">100</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## Run three  cases showing Multinomial, Dirichlet(1), and over-dispersed</span></span>
<span class="r-in"><span class="co">## Dirichlet for different levels of sample sizes</span></span>
<span class="r-in"><span class="va">op</span> <span class="op">&lt;-</span> <span class="fu">graphics</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>mfrow <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">3</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span>
<span class="r-in"><span class="va">true</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/proportions.html" class="external-link">prop.table</a></span><span class="op">(</span><span class="va">dat_list</span><span class="op">$</span><span class="va">agecomp</span><span class="op">[</span></span>
<span class="r-in">  <span class="va">dat_list</span><span class="op">$</span><span class="va">agecomp</span><span class="op">$</span><span class="va">FltSvy</span> <span class="op">==</span> <span class="fl">1</span> <span class="op">&amp;</span> <span class="va">dat_list</span><span class="op">$</span><span class="va">agecomp</span><span class="op">$</span><span class="va">Yr</span> <span class="op">==</span> <span class="fl">50</span>, <span class="op">-</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">9</span><span class="op">)</span></span>
<span class="r-in"><span class="op">]</span><span class="op">)</span></span>
<span class="r-in"><span class="va">cpars</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="fl">1</span>, <span class="fl">4</span><span class="op">)</span></span>
<span class="r-in"><span class="kw">for</span> <span class="op">(</span><span class="va">samplesize</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">30</span>, <span class="fl">100</span>, <span class="fl">1000</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in">  <span class="kw">if</span> <span class="op">(</span><span class="va">samplesize</span> <span class="op">&gt;</span> <span class="fl">30</span><span class="op">)</span> <span class="fu">graphics</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>mar <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5.1</span>, <span class="fl">1</span>, <span class="fl">4.1</span>, <span class="fl">2.1</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in">  <span class="fu">graphics</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">dat_list</span><span class="op">$</span><span class="va">agebin_vector</span>, <span class="va">true</span>,</span>
<span class="r-in">    type <span class="op">=</span> <span class="st">"b"</span>, ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span class="r-in">    col <span class="op">=</span> <span class="fl">4</span>, lwd <span class="op">=</span> <span class="fl">2</span>, xlab <span class="op">=</span> <span class="st">"Age"</span>,</span>
<span class="r-in">    ylab <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">samplesize</span> <span class="op">==</span> <span class="fl">30</span>, <span class="st">"Proportion"</span>, <span class="st">""</span><span class="op">)</span>,</span>
<span class="r-in">    main <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Sample size ="</span>, <span class="va">samplesize</span><span class="op">)</span></span>
<span class="r-in">  <span class="op">)</span></span>
<span class="r-in">  <span class="kw">if</span> <span class="op">(</span><span class="va">samplesize</span> <span class="op">==</span> <span class="fl">30</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in">    <span class="fu">graphics</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/graphics/legend.html" class="external-link">legend</a></span><span class="op">(</span><span class="st">"topright"</span>,</span>
<span class="r-in">      lty <span class="op">=</span> <span class="fl">1</span>, col <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span>, bty <span class="op">=</span> <span class="st">"n"</span>,</span>
<span class="r-in">      legend <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Multinomial"</span>, <span class="st">"Dirichlet(1)"</span>, <span class="st">"Dirichlet(4)"</span>, <span class="st">"Truth"</span><span class="op">)</span></span>
<span class="r-in">    <span class="op">)</span></span>
<span class="r-in">  <span class="op">}</span></span>
<span class="r-in">  <span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_along</a></span><span class="op">(</span><span class="va">cpars</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in">    <span class="va">ex</span> <span class="op">&lt;-</span> <span class="fu">sample_agecomp</span><span class="op">(</span></span>
<span class="r-in">      dat_list <span class="op">=</span> <span class="va">dat_list</span>, outfile <span class="op">=</span> <span class="cn">NULL</span>, fleets <span class="op">=</span> <span class="fl">1</span>,</span>
<span class="r-in">      Nsamp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">samplesize</span><span class="op">)</span>, years <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fl">50</span><span class="op">)</span>, cpar <span class="op">=</span> <span class="va">cpars</span><span class="op">[</span><span class="va">i</span><span class="op">]</span></span>
<span class="r-in">    <span class="op">)</span><span class="op">$</span><span class="va">agecomp</span></span>
<span class="r-in">    <span class="fu"><a href="https://rdrr.io/r/graphics/lines.html" class="external-link">lines</a></span><span class="op">(</span><span class="va">dat_list</span><span class="op">$</span><span class="va">agebin_vector</span>, <span class="fu"><a href="https://rdrr.io/r/base/proportions.html" class="external-link">prop.table</a></span><span class="op">(</span><span class="va">ex</span><span class="op">[</span><span class="fl">1</span>, <span class="op">-</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">9</span><span class="op">)</span><span class="op">]</span><span class="op">)</span>,</span>
<span class="r-in">      col <span class="op">=</span> <span class="va">i</span>, type <span class="op">=</span> <span class="st">"b"</span></span>
<span class="r-in">    <span class="op">)</span></span>
<span class="r-in">  <span class="op">}</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-plt img"><img src="sample_agecomp-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span class="fu">graphics</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span><span class="va">op</span><span class="op">)</span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Kelli F. Johnson, Sean C. Anderson, Kathryn L. Doering, Cole C. Monnahan, Christine C. Stawitz.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

      </footer></div>

  


  

  </body></html>

